{"ast":null,"code":"import _regeneratorRuntime from\"E:/programing/taskes in corse/react/movie/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/programing/taskes in corse/react/movie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/programing/taskes in corse/react/movie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useEffect}from'react';import{useState}from'react';import{Link,useParams}from'react-router-dom';import{Helmet}from'react-helmet';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ItemDetail(){var _itemDetalis$genres,_itemDetalis$vote_ave,_similar$results;var _useParams=useParams(),mediatype=_useParams.mediatype,id=_useParams.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),itemDetalis=_useState2[0],setitemDetalis=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),similar=_useState4[0],setSimilar=_useState4[1];// const [isLoading, setIsLoading] = useState(false)\nfunction getTrandingItem(_x,_x2){return _getTrandingItem.apply(this,arguments);}function _getTrandingItem(){_getTrandingItem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(mediatype,id){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/\".concat(mediatype,\"/\").concat(id,\"?api_key=44ee5523e457e74020effc2bddc4592e&language=en-US\"));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setitemDetalis(data);// setIsLoading(false);\ncase 5:case\"end\":return _context.stop();}},_callee);}));return _getTrandingItem.apply(this,arguments);}function getSimilerItem(_x3,_x4){return _getSimilerItem.apply(this,arguments);}function _getSimilerItem(){_getSimilerItem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(mediatype,id){var _yield$axios$get2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"https://api.themoviedb.org/3/\".concat(mediatype,\"/\").concat(id,\"/similar?api_key=44ee5523e457e74020effc2bddc4592e&language=en-US&page=1\"));case 2:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;setSimilar(data);case 5:case\"end\":return _context2.stop();}},_callee2);}));return _getSimilerItem.apply(this,arguments);}useEffect(function(){getTrandingItem(mediatype,id);getSimilerItem(mediatype,id);},[]);console.log(similar);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"meta\",{charSet:\"utf-8\"}),/*#__PURE__*/_jsx(\"title\",{children:itemDetalis.title?itemDetalis.title:itemDetalis.name}),/*#__PURE__*/_jsx(\"link\",{rel:\"canonical\",href:\"http://mysite.com/example\"})]}),Object.keys(itemDetalis).length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"img-item\",children:itemDetalis.poster_path?/*#__PURE__*/_jsx(\"img\",{src:'https://image.tmdb.org/t/p/w500'+itemDetalis.poster_path,alt:\"trandingMovie\",className:\"w-100\"}):/*#__PURE__*/_jsx(\"img\",{src:'https://image.tmdb.org/t/p/w500'+itemDetalis.profile_path,alt:\"tranding\",className:\"w-100\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8 captionDetails \",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"fw-bolder mb-5\",children:[itemDetalis.title,itemDetalis.name]}),/*#__PURE__*/_jsx(\"h6\",{className:\"text-muted\",children:itemDetalis.tagline}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex\",children:(_itemDetalis$genres=itemDetalis.genres)===null||_itemDetalis$genres===void 0?void 0:_itemDetalis$genres.map(function(gen,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"gen\",children:gen.name})},index);})}),itemDetalis.vote?/*#__PURE__*/_jsxs(\"h5\",{className:\"mt-5  \",children:[/*#__PURE__*/_jsx(\"span\",{className:\"h5 px-2\",children:\"Vote :\"}),(_itemDetalis$vote_ave=itemDetalis.vote_average)===null||_itemDetalis$vote_ave===void 0?void 0:_itemDetalis$vote_ave.toFixed(1)]}):'',itemDetalis.vote_count?/*#__PURE__*/_jsxs(\"h5\",{className:\" py-2 \",children:[/*#__PURE__*/_jsx(\"span\",{className:\"h5 px-2\",children:\"Vote Count :\"}),itemDetalis.vote_count]}):'',itemDetalis.popularity?/*#__PURE__*/_jsxs(\"h5\",{className:\" py-2 \",children:[/*#__PURE__*/_jsx(\"span\",{className:\"h5 px-2\",children:\"popularity :\"}),itemDetalis.popularity]}):'',itemDetalis.number_of_episodes?/*#__PURE__*/_jsxs(\"h5\",{className:\" py-2 \",children:[/*#__PURE__*/_jsx(\"span\",{className:\"h5 px-2\",children:\"Number Of Episodes :\"}),itemDetalis.number_of_episodes]}):'',itemDetalis.number_of_seasons?/*#__PURE__*/_jsxs(\"h5\",{className:\" py-2 \",children:[/*#__PURE__*/_jsx(\"span\",{className:\"h5 px-2\",children:\"Number Of Seasons :\"}),itemDetalis.number_of_seasons]}):'',itemDetalis.birthday?/*#__PURE__*/_jsxs(\"h5\",{className:\" py-2 \",children:[/*#__PURE__*/_jsx(\"span\",{className:\"h5 px-2\",children:\"Birthday :\"}),itemDetalis.birthday]}):'',itemDetalis.place_of_birth?/*#__PURE__*/_jsxs(\"h5\",{className:\" py-2 \",children:[/*#__PURE__*/_jsx(\"span\",{className:\"h5 px-2\",children:\"place Of Birth :\"}),itemDetalis.place_of_birth]}):'',itemDetalis.known_for_department?/*#__PURE__*/_jsxs(\"h5\",{className:\" py-2 \",children:[/*#__PURE__*/_jsx(\"span\",{className:\"h5 px-2\",children:\"Known For Department :\"}),itemDetalis.known_for_department]}):'',/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:itemDetalis.overview}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:itemDetalis.biography}),/*#__PURE__*/_jsx(\"div\",{className:\"whached my-5\",children:/*#__PURE__*/_jsxs(\"button\",{children:[\" \",/*#__PURE__*/_jsx(\"a\",{href:itemDetalis.homepage,children:\" Visit Now \"})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"simlar mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:(_similar$results=similar.results)===null||_similar$results===void 0?void 0:_similar$results.map(function(sim,index){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(Link,{to:\"/ItemDetailes/\".concat(sim.id,\"/\").concat(mediatype),children:[sim.poster_path?/*#__PURE__*/_jsx(\"img\",{src:'https://image.tmdb.org/t/p/w500'+sim.poster_path,alt:\"trandingMovie\",className:\"w-100\"}):/*#__PURE__*/_jsx(\"img\",{src:'https://image.tmdb.org/t/p/w500'+sim.profile_path,alt:\"tranding\",className:\"w-100\"}),/*#__PURE__*/_jsxs(\"h6\",{className:\"fw-bolder my-2 text-center \",children:[sim.title,sim.name]})]})},index);})})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"spinner\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"dot1\"}),/*#__PURE__*/_jsx(\"div\",{class:\"dot2\"})]})})]});}","map":{"version":3,"names":["axios","React","useEffect","useState","Link","useParams","Helmet","ItemDetail","mediatype","id","itemDetalis","setitemDetalis","similar","setSimilar","getTrandingItem","get","data","getSimilerItem","console","log","title","name","Object","keys","length","poster_path","profile_path","tagline","genres","map","gen","index","vote","vote_average","toFixed","vote_count","popularity","number_of_episodes","number_of_seasons","birthday","place_of_birth","known_for_department","overview","biography","homepage","results","sim"],"sources":["E:/programing/taskes in corse/react/movie/src/Component/ItemDetail/ItemDetail.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect } from 'react'\r\nimport { useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport { Helmet } from 'react-helmet';\r\n\r\nexport default function ItemDetail() {\r\n    let {mediatype,id} = useParams();\r\n    \r\n    const [itemDetalis, setitemDetalis] = useState({});\r\n    const [similar, setSimilar] = useState({});\r\n    \r\n    // const [isLoading, setIsLoading] = useState(false)\r\n   \r\n\r\n\r\n    async function getTrandingItem(mediatype,id){\r\n        // setIsLoading(true);\r\n        let {data}= await axios.get(`https://api.themoviedb.org/3/${mediatype}/${id}?api_key=44ee5523e457e74020effc2bddc4592e&language=en-US`);\r\n        setitemDetalis(data)\r\n        // setIsLoading(false);\r\n    }\r\n    async function getSimilerItem(mediatype,id){\r\n         let {data} = await axios.get(`https://api.themoviedb.org/3/${mediatype}/${id}/similar?api_key=44ee5523e457e74020effc2bddc4592e&language=en-US&page=1`)\r\n        setSimilar(data);\r\n     }\r\n\r\n    useEffect(()=>{\r\n        \r\n        getTrandingItem(mediatype,id);\r\n        getSimilerItem(mediatype,id)\r\n       \r\n    },[])\r\n   \r\nconsole.log(similar);\r\n    \r\n  return <>\r\n   <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>\r\n                {itemDetalis.title ? itemDetalis.title : itemDetalis.name}\r\n                 \r\n                </title>\r\n                <link rel=\"canonical\" href=\"http://mysite.com/example\" />\r\n            </Helmet>\r\n  {Object.keys(itemDetalis).length > 0 ?<>\r\n    <div className=\"row mb-5\">\r\n    <div className=\"col-md-4\">\r\n        <div className=\"img-item\">\r\n        {itemDetalis.poster_path?<img src={'https://image.tmdb.org/t/p/w500'+itemDetalis.poster_path}alt=\"trandingMovie\" className='w-100' />:<img src={'https://image.tmdb.org/t/p/w500'+itemDetalis.profile_path}alt=\"tranding\" className='w-100' />}\r\n        </div>\r\n    </div>\r\n    <div className=\"col-md-8 captionDetails \">\r\n        <h2 className='fw-bolder mb-5'>{itemDetalis.title}{itemDetalis.name}</h2>\r\n        <h6 className='text-muted'>{itemDetalis.tagline}</h6>\r\n\r\n        <div className=\"d-flex\">\r\n            {itemDetalis.genres?.map((gen , index)=> { return <div key={index}>\r\n           <span className='gen' >{gen.name}</span> \r\n        </div>})}\r\n        </div>\r\n      \r\n       {itemDetalis.vote?<h5 className='mt-5  '><span className='h5 px-2'>Vote :</span>{itemDetalis.vote_average?.toFixed(1)}</h5>:''} \r\n        {itemDetalis.vote_count?<h5 className=' py-2 '><span className='h5 px-2'>Vote Count :</span>{itemDetalis.vote_count}</h5>:''}\r\n        {itemDetalis.popularity?<h5 className=' py-2 '><span className='h5 px-2'>popularity :</span>{itemDetalis.popularity}</h5>:''}\r\n        {itemDetalis.number_of_episodes?<h5 className=' py-2 '><span className='h5 px-2'>Number Of Episodes :</span>{itemDetalis.number_of_episodes}</h5>:''}\r\n        {itemDetalis.number_of_seasons?<h5 className=' py-2 '><span className='h5 px-2'>Number Of Seasons :</span>{itemDetalis.number_of_seasons}</h5>:''}\r\n        {itemDetalis.birthday?<h5 className=' py-2 '><span className='h5 px-2'>Birthday :</span>{itemDetalis.birthday}</h5>:''}\r\n        {itemDetalis.place_of_birth?<h5 className=' py-2 '><span className='h5 px-2'>place Of Birth :</span>{itemDetalis.place_of_birth}</h5>:''}\r\n        {itemDetalis.known_for_department?<h5 className=' py-2 '><span className='h5 px-2'>Known For Department :</span>{itemDetalis.known_for_department}</h5>:''}\r\n        \r\n        \r\n        <p className='text-muted'>{itemDetalis.overview}</p>\r\n        <p className='text-muted'>{itemDetalis.biography}</p>\r\n        <div className='whached my-5'>\r\n            <button > <a href={itemDetalis.homepage}> Visit Now </a></button>\r\n        </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div className=\"simlar mt-5\">\r\n    <div className=\"row g-4\">\r\n        \r\n        {similar.results?.map((sim , index)=><div key={index} className=\"col-md-2\">\r\n        <Link to={`/ItemDetailes/${sim.id}/${mediatype}`}>\r\n         {sim.poster_path?<img src={'https://image.tmdb.org/t/p/w500'+sim.poster_path}alt=\"trandingMovie\" className='w-100' />:<img src={'https://image.tmdb.org/t/p/w500'+sim.profile_path}alt=\"tranding\" className='w-100' />}\r\n        <h6 className='fw-bolder my-2 text-center '>{sim.title}{sim.name}</h6>\r\n        </Link>\r\n        </div>)\r\n        \r\n        }\r\n      \r\n    </div>\r\n  </div>\r\n  </>:<div className='loading'>\r\n  <div class=\"spinner\">\r\n  <div class=\"dot1\"></div>\r\n  <div class=\"dot2\"></div>\r\n</div>\r\n    </div> }\r\n \r\n \r\n  </>\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}